; FILE NAME: picasm_analogIn.asm
; HARDWARE CONFIGURATIONS:
;	PIN 1: 10K RESISTOR TO VDD
;	PIN 2: ANALOG INPUT (A0)
;	PINS 11 AND 32: VDD
; 	PINS 12 AND 31: VSS
;	PINS 14 AND 14: 4MHz CRYSTAL OSCILLATOR
;	PINS 15 TO 18 AND 23 TO 26: PORTC OUTPUTS

LIST P = 16F877
INCLUDE <P16F877.INC>

; DIRECTIVES
__CONFIG _XT_OSC & _WDT_OFF & _PWRTE_OFF & _CP_OFF & _LVP_OFF & _BODEN_OFF

; SET DEFAULT STARTING ADDRESS
ORG 0

; PORT CONFIGURATIONS
BANKSEL PORTC
MOVLW B'00000000'
MOVWF PORTC			; RESET PORT C
BANKSEL TRISC		; SELECT BANK 1 PERTAINING TO TRIS AREA
MOVLW B'00000000'
MOVWF TRISC			; MAKE PORT C ALL OUTPUTS
MOVLW B'11111111'
MOVWF TRISA			; MAKE PORT A ALL INPUTS
BANKSEL PORTA		; SELECT BANK 0 PERTAINING TO PORT AREA

MOVLW	B'11000000'	
		;'1-------'	ADFM = 1
		;'-1------'	ADCS2 = 1
		;'--00----'	F/4 = 00
		;'----0000'	PCFG3:PCFG0 = 0000
MOVWF ADCON1

MOVLW 	B'00000001'	
	 	;'00------'	ADCS1:ADCS0 = 00
		;'--000---' CHS2:CHS0 = 00
		;'-----0--' GO / DONE = 0
		;'-------1' ADON = 1
MOVWF ADCON0

MAIN
	BSF	ADCON0, GO

WAIT_ADC
	BTFSC ADCON0, 2
	GOTO WAIT_ADC

	SWAPF ADRESH, W
	MOVWF PORTC

	END